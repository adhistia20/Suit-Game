#include <ncurses.h>
#include <cstdlib>
#include <ctime>
#include <fstream>
#include <vector>
#include <string>
#include <algorithm>
#include <iostream>
#include <thread>
#include <chrono>

void showLoadingScreen() {
    const char* loadingText = "Loading";
    for (int i = 0; i < 10; ++i) {
        clear();
        mvprintw(5, 10, "%s", loadingText);
        for (int j = 0; j <= i % 4; ++j) {
            printw(".");
        }
        refresh();
        std::this_thread::sleep_for(std::chrono::milliseconds(300));
    }
}
std::string determineWinner(int playerChoice, int computerChoice) {
    // 0: Gunting, 1: Batu, 2: Kertas
    if (playerChoice == computerChoice) return "Draw";
    if ((playerChoice == 0 && computerChoice == 2) || 
        (playerChoice == 1 && computerChoice == 0) || 
        (playerChoice == 2 && computerChoice == 1)) return "Pemain";
    return "Komputer";
}
void saveHistoryToFile(const std::vector<std::string>& history) {
    std::ofstream file("game_history.txt");
    for (const auto& entry : history) {
        file << entry << "\n";
    }
    file.close();
}


void displayHistory() {
    clear();
    mvprintw(0, 0, "Histori Game:");
    std::ifstream file("game_history.txt");
    std::string line;
    int y = 1;
    while (std::getline(file, line)) {
        mvprintw(y++, 0, "%s", line.c_str());
    }
    file.close();
    mvprintw(y + 1, 0, "Tekat Enter untuk kembali ke Menu.");
    refresh();
    getch();
}
